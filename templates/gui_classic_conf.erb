ScriptAlias <%= scope.lookupvar('icinga::params::cgi_url') %> "<%= scope.lookupvar("icinga::params::icinga_cgi_path_real") %>"

<Directory "<%= scope.lookupvar("icinga::params::icinga_cgi_path_real")%>">
<% if scope.lookupvar('icinga::params::ssl') == true %>   SSLRequireSSL<% end %>
   Options ExecCGI
   AllowOverride None
    <IfModule mod_authz_core.c>
        # Apache 2.4
        <RequireAll>
            Require all granted
        </RequireAll>
    </IfModule>
    <IfModule !mod_authz_core.c>
        # Apache 2.2
        Order allow,deny
        Allow from all
    </IfModule>
</Directory>

<% if scope.lookupvar("icinga::params::icinga_css_path_real") != '' -%>
Alias /icinga/stylesheets "<%= scope.lookupvar("icinga::params::icinga_css_path_real") %>"

<Directory "<%= scope.lookupvar("icinga::params::icinga_css_path_real") %>">
   Options FollowSymlinks
   AllowOverride All
   DirectoryIndex index.html
    <IfModule mod_authz_core.c>
        # Apache 2.4
        <RequireAll>
            Require all granted
        </RequireAll>
    </IfModule>
    <IfModule !mod_authz_core.c>
        # Apache 2.2
        Order allow,deny
        Allow from all
    </IfModule>
</Directory>
<% end -%>

Alias /icinga "<%= scope.lookupvar("icinga::params::icinga_html_path_real") %>"

<Directory "<%= scope.lookupvar("icinga::params::icinga_html_path_real") %>">
<% if scope.lookupvar('icinga::params::ssl') == true %>   SSLRequireSSL<% end %>
   Options FollowSymlinks
   AllowOverride All
   DirectoryIndex index.html
    <IfModule mod_authz_core.c>
        # Apache 2.4
        <RequireAll>
            Require all granted
        </RequireAll>
    </IfModule>
    <IfModule !mod_authz_core.c>
        # Apache 2.2
        Order allow,deny
        Allow from all
    </IfModule>
</Directory>
